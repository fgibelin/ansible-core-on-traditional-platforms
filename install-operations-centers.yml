- hosts: operations_center 
  become: true
  tasks:

  # Install JDK8 and wget
  - debug:
      msg: "Ansible distribution = {{ ansible_distribution }}\n
           Ansible OS family    = {{ ansible_os_family }}"

  - name: Install the prerequisites (wget, JDK8)
    package:
      name: "{{ packages }}"
      state: latest
    vars:
      packages:
      - wget
      - openjdk-8-jdk

  - name: OS package repository configuration for {{ ansible_os_family }}
    include_tasks: "{{ ansible_os_family }}.yml"

  # Install Operations Center package
  - name: Install Cloudbees Core Operations Center
    package:
      name: cloudbees-core-oc
      state: latest

  # Enable the service to startup on boot, and start it
  - name: Enable and start Cloudbees Core Operations Center service
    service:
      name: cloudbees-core-oc
      enabled: true
      state: started
